<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>Markmap 测试页面</title>
  <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.14.3/dist/view.min.js"></script>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    svg { width: 100%; height: 100vh; }
  </style>
</head>
<body>
  <svg id="svg"></svg>
  <script>
    function getQueryVariable(variable) {
      const query = window.location.search.substring(1);
      const vars = query.split('&');
      for (let i = 0; i < vars.length; i++) {
        const pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) === variable) {
          return decodeURIComponent(pair[1]);
        }
      }
      return null;
    }

    const mdText = getQueryVariable('text') || '# 欢迎使用 Markmap';
    console.log('Markdown内容:', mdText);

    const svg = document.getElementById('svg');

    if (window.Markmap) {
      Markmap.create(svg, null, mdText);
    } else {
      console.error('Markmap未加载');
    }
  </script>
</body>
</html>
