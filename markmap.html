<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>Markmap 思维导图</title>
  <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.14.3/dist/browser/view.min.js"></script>
  <style>
    html, body { margin: 0; padding: 0; height: 100%; }
    svg { width: 100%; height: 100vh; }
  </style>
</head>
<body>
  <svg id="svg"></svg>
  <script>
    // 读取 URL 参数 text，解码后作为 Markdown 源
    function getQueryVariable(variable) {
      const query = window.location.search.substring(1);
      const vars = query.split('&');
      for (let i = 0; i < vars.length; i++) {
        const pair = vars[i].split('=');
        if (decodeURIComponent(pair[0]) == variable) {
          return decodeURIComponent(pair[1]);
        }
      }
      return null;
    }

    const mdText = getQueryVariable('text') || '# 欢迎使用 Markmap';
    const { Markmap } = markmap;

    const svg = document.getElementById('svg');
    Markmap.create(svg, null, mdText);
  </script>
</body>
</html>
